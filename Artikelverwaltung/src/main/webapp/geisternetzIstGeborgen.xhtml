<?xml version='1.0' encoding='UTF-8' ?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

<h:head>
    <link rel="stylesheet" type="text/css" media="screen" href="style.css"/>
    <title>Geisternetz als geborgen melden</title>
</h:head>
<h:body>
    <h2>Meine Geisternetze als geborgen melden</h2>
    
    <h:form id="sucheForm">
        <p:dataTable id="geisternetzeTabelle" var="einGeisternetz"
                     value="#{geisternetzIstGeborgenController.geisternetzeInBergung}"
                     selection="#{geisternetzIstGeborgenController.selectedGeisternetze}"
                     rowKey="#{einGeisternetz.id}" paginator="true" rows="5"
                     selectionPageOnly="false">

            <p:column selectionMode="multiple" style="width:16px;text-align:center"/>

            <p:column headerText="Id">
                <h:outputText value="#{einGeisternetz.id}"/>
            </p:column>
            <p:column headerText="Längengrad">
                <h:outputText value="#{einGeisternetz.laengengrad}"/>
            </p:column>
            <p:column headerText="Breitengrad">
                <h:outputText value="#{einGeisternetz.breitengrad}"/>
            </p:column>
            <p:column headerText="Größe">
                <h:outputText value="#{einGeisternetz.groesse}"/>
            </p:column>
            <p:column headerText="Status">
                <h:outputText value="#{einGeisternetz.status}"/>
            </p:column>
            <p:column headerText="Vorname">
                <h:outputText value="#{einGeisternetz.person.vorname}"/>
            </p:column>
            <p:column headerText="Nachname">
                <h:outputText value="#{einGeisternetz.person.nachname}"/>
            </p:column>
            <p:column headerText="Telefonnummer">
                <h:outputText value="#{einGeisternetz.person.telefonnummer}"/>
            </p:column>
        </p:dataTable>

        <p:commandButton id="geborgenMeldenButton"
                         value="Als Geborgen melden" icon="pi pi-check"
                         actionListener="#{geisternetzIstGeborgenController.alsGeborgenMelden}" process="@this"
                         update="sucheForm: geisternetzeTabelle">
        </p:commandButton>

        <p:commandButton id="verschollenButton"
                         value="Als Verschollen melden" icon="pi pi-times"
                         actionListener="#{geisternetzIstGeborgenController.alsVerschollenMelden}" process="@this"
                         update="sucheForm: geisternetzeTabelle">
        </p:commandButton>
    </h:form>
</h:body>
</html>
